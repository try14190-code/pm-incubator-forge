{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/eddi/Documents/GitHub/lecture/pm-incubator-forge/notes/google_analytics/contexts/AuthContext.tsx"],"sourcesContent":["\"use client\";\n\nimport { createContext, useContext, useState, ReactNode, useEffect } from \"react\";\n\ninterface AuthContextType {\n    isLoggedIn: boolean;\n    refresh: () => void;\n    logout: () => void;\n}\n\nconst AuthContext = createContext<AuthContextType>({\n    isLoggedIn: false,\n    refresh: () => {},\n    logout: () => {},\n});\n\nexport const AuthProvider = ({ children }: { children: ReactNode }) => {\n    const [isLoggedIn, setIsLoggedIn] = useState(false);\n\n    const refresh = () => {\n        console.log(\"[Auth] Checking login status...\");\n        fetch(`${process.env.NEXT_PUBLIC_API_BASE_URL}/authentication/status`, {\n            credentials: \"include\",\n        })\n            .then((res) => res.json())\n            .then((data) => {\n                console.log(\"[Auth] Status API response:\", data);\n                setIsLoggedIn(data.logged_in);\n            })\n            .catch((err) => {\n                console.error(\"[Auth] Status check failed:\", err);\n                setIsLoggedIn(false);\n            });\n    };\n\n    const logout = () => {\n        console.log(\"[Auth] Logging out...\");\n        fetch(`${process.env.NEXT_PUBLIC_API_BASE_URL}/authentication/logout`, {\n            method: \"POST\",\n            credentials: \"include\",\n        }).finally(() => {\n            setIsLoggedIn(false);\n        });\n    };\n\n    // 처음 로딩될 때 1번만 실행\n    useEffect(() => {\n        refresh();\n    }, []);\n\n    return (\n        <AuthContext.Provider value={{ isLoggedIn, refresh, logout }}>\n            {children}\n        </AuthContext.Provider>\n    );\n};\n\nexport const useAuth = () => useContext(AuthContext);\n"],"names":[],"mappings":";;;;;;;AAEA;AAFA;;;AAUA,MAAM,4BAAc,IAAA,sNAAa,EAAkB;IAC/C,YAAY;IACZ,SAAS,KAAO;IAChB,QAAQ,KAAO;AACnB;AAEO,MAAM,eAAe,CAAC,EAAE,QAAQ,EAA2B;IAC9D,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAE7C,MAAM,UAAU;QACZ,QAAQ,GAAG,CAAC;QACZ,MAAM,8DAAwC,sBAAsB,CAAC,EAAE;YACnE,aAAa;QACjB,GACK,IAAI,CAAC,CAAC,MAAQ,IAAI,IAAI,IACtB,IAAI,CAAC,CAAC;YACH,QAAQ,GAAG,CAAC,+BAA+B;YAC3C,cAAc,KAAK,SAAS;QAChC,GACC,KAAK,CAAC,CAAC;YACJ,QAAQ,KAAK,CAAC,+BAA+B;YAC7C,cAAc;QAClB;IACR;IAEA,MAAM,SAAS;QACX,QAAQ,GAAG,CAAC;QACZ,MAAM,8DAAwC,sBAAsB,CAAC,EAAE;YACnE,QAAQ;YACR,aAAa;QACjB,GAAG,OAAO,CAAC;YACP,cAAc;QAClB;IACJ;IAEA,kBAAkB;IAClB,IAAA,kNAAS,EAAC;QACN;IACJ,GAAG,EAAE;IAEL,qBACI,8OAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAY;YAAS;QAAO;kBACtD;;;;;;AAGb;AAEO,MAAM,UAAU,IAAM,IAAA,mNAAU,EAAC"}},
    {"offset": {"line": 89, "column": 0}, "map": {"version":3,"sources":["file:///Users/eddi/Documents/GitHub/lecture/pm-incubator-forge/notes/google_analytics/components/Navbar.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport { useAuth } from \"../contexts/AuthContext\";\nimport { useRouter } from \"next/navigation\";\n\nexport default function Navbar() {\n    const { isLoggedIn, logout } = useAuth();\n    const router = useRouter();\n\n    const handleLogout = () => {\n        logout();\n        router.push(\"/\");\n    };\n\n    return (\n        <nav className=\"bg-gray-800 text-white p-4 flex justify-between items-center\">\n            <div className=\"text-lg font-bold\">\n                <Link href=\"/\">MyApp</Link>\n            </div>\n\n            <div className=\"space-x-4 flex items-center\">\n                <Link href=\"/\">Home</Link>\n                <Link href=\"/documents/list\">문서 분석</Link>\n                <Link href=\"/contact\">Contact</Link>\n                <Link href=\"/board/list\">게시판</Link>\n\n                {/* 구독 버튼 추가 */}\n                {isLoggedIn && (\n                    <Link href=\"/payment/checkout\">\n                        <button className=\"bg-blue-600 px-3 py-1 rounded hover:bg-blue-700\">\n                            구독\n                        </button>\n                    </Link>\n                )}\n\n                {isLoggedIn ? (\n                    <button\n                        onClick={handleLogout}\n                        className=\"bg-red-600 px-3 py-1 rounded hover:bg-red-700\"\n                    >\n                        Logout\n                    </button>\n                ) : (\n                    <Link\n                        href=\"/login\"\n                        className=\"bg-blue-600 px-3 py-1 rounded hover:bg-blue-700\"\n                    >\n                        Login\n                    </Link>\n                )}\n            </div>\n        </nav>\n    );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS;IACpB,MAAM,EAAE,UAAU,EAAE,MAAM,EAAE,GAAG,IAAA,mIAAO;IACtC,MAAM,SAAS,IAAA,+IAAS;IAExB,MAAM,eAAe;QACjB;QACA,OAAO,IAAI,CAAC;IAChB;IAEA,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC,uKAAI;oBAAC,MAAK;8BAAI;;;;;;;;;;;0BAGnB,8OAAC;gBAAI,WAAU;;kCACX,8OAAC,uKAAI;wBAAC,MAAK;kCAAI;;;;;;kCACf,8OAAC,uKAAI;wBAAC,MAAK;kCAAkB;;;;;;kCAC7B,8OAAC,uKAAI;wBAAC,MAAK;kCAAW;;;;;;kCACtB,8OAAC,uKAAI;wBAAC,MAAK;kCAAc;;;;;;oBAGxB,4BACG,8OAAC,uKAAI;wBAAC,MAAK;kCACP,cAAA,8OAAC;4BAAO,WAAU;sCAAkD;;;;;;;;;;;oBAM3E,2BACG,8OAAC;wBACG,SAAS;wBACT,WAAU;kCACb;;;;;6CAID,8OAAC,uKAAI;wBACD,MAAK;wBACL,WAAU;kCACb;;;;;;;;;;;;;;;;;;AAOrB"}}]
}